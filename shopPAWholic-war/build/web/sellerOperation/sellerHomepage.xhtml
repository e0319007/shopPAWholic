<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="../template/SellerTemplate.xhtml">

    <ui:define name="content">
        <p:panel id="sellerToggleable" header="Profit Overview" collapsed="false" toggleable="true" toggleSpeed="500" closeSpeed="500" style="margin-bottom:10px">
            <div class="p-grid p-align-center">
                <div class="p-col">
                    <p:panel header="Listing Posted: ">
                        <p style="font-size: 30px; text-align: center;"><b>#{sellerManagedBean.totalUnitsListed}</b></p>
                    </p:panel>
                </div>
                <div class="p-col">
                    <p:panel header="Advts Posted: " >
                        <p style="font-size: 30px; text-align: center;"><b>#{sellerManagedBean.totalAdvtsPosted}</b></p>
                    </p:panel>
                </div>
                <div class="p-col">
                    <p:panel header="Events Posted: " >
                        <p style="font-size: 30px; text-align: center;"><b>#{sellerManagedBean.totalEventsPosted}</b></p>
                    </p:panel>
                </div>
            </div>
        </p:panel>
        <p:panel id="analysis" header="Listing Analysis" style="margin-bottom:10px">
            <p:barChart model="#{sellerChartView.sellerBarModel}" style="width: 100%; height: 500px;"/>
            <p:pieChart model="#{sellerChartView.sellerPieModel}" style="width: 100%; height: 500px;"/>
        </p:panel>
        
        
        <p:dialog header="Verify yourself" widgetVar="verification" onShow="PF('verification').initPosition()" visible="#{userManagementManagedBean.currentSeller.verification == null}">
            <h:form style="width: 500px;" enctype="multipart/form-data">
                <p:growl id="messages" showDetail="true" life="1000" />   
                <p:fileUpload id="filePath" update="messages"
                              invalidSizeMessage="JournalDev: Invalid Size"
                              invalidFileMessage="JournalDev: Invalid File Type"
                              fileLimitMessage="JournalDev: Invalid File Limit"
                              mode="advanced" sizeLimit="10000000000000"
                              fileUploadListener="#{userManagementManagedBean.verifyYourself}" 
                              auto="true" oncomplete="PF('verification').hide();">

                </p:fileUpload>
            </h:form>
        </p:dialog>

        <!--timeline to show their stock and sales-->
        <!--sales generated-->
        <!--<p:chart type="bar" model="" style="height:300px"/>-->
        <!--using bar-->

        <!--    average daily sales
            average sales rank
            average price
            reviews& ranks
            summary > revenue and etc.-->
    </ui:define>
</ui:composition>